import{r as a,S as d,e as p,b as l,B as f,j as u}from"./index-Du1wZ1pu.js";import{u as g}from"./usePageMetadata-CED4SOpM.js";const v=()=>{const{navigate:r,token:o,setCartItems:n}=a.useContext(d),[i]=p(),c=i.get("success"),m=i.get("orderId"),y=a.useCallback(async()=>{var t,s;try{if(!o)return null;const{data:e}=await l.post("/api/order/verifyStripe",{success:c,orderId:m});e.success?(n({}),r("/orders")):r("/cart")}catch(e){console.error(e),f.error(((s=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:s.message)||e.message)}},[o,c,m,n,r]);return a.useEffect(()=>{y()},[y]),g({title:"Processing Payment",description:"We are verifying your TinyMillion payment and will redirect you once the process is complete.",keywords:"TinyMillion payment verification, order confirmation",canonical:"/verify",robots:"noindex, nofollow",structuredData:({absoluteCanonical:t,baseTitle:s,pageDescription:e})=>[{"@context":"https://schema.org","@type":"ConfirmAction","@id":`${t}#payment-verify`,name:s,target:t,description:e}]}),u.jsx("div",{className:"min-h-[40vh] flex items-center justify-center text-gray-600",children:"Finalising your payment..."})};export{v as default};
