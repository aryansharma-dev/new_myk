import{r as l,S as C,j as s,a as T}from"./index-Du1wZ1pu.js";import{T as L}from"./Title-CaBRCAqF.js";import{P as E}from"./ProductItem-Dxbd5ZZn.js";import{g as M}from"./productImages-rNWg_BiP.js";import{u as k}from"./usePageMetadata-CED4SOpM.js";const F=()=>{const{products:a,search:p,showSearch:x,productPagination:n,loadNextProductsPage:g}=l.useContext(C),[i,j]=l.useState(!1),[d,b]=l.useState([]),[u,w]=l.useState([]),[f,N]=l.useState("relavent"),m=(e,t)=>{t(r=>r.includes(e)?r.filter(h=>h!==e):[...r,e])},c=l.useMemo(()=>{if(!Array.isArray(a)||a.length===0)return[];let e=a.filter(t=>t&&typeof t=="object"&&t._id);if(x&&p){const t=p.toLowerCase();e=e.filter(r=>r?(typeof r.name=="string"?r.name.toLowerCase():"").includes(t):!1)}switch(d.length>0&&(e=e.filter(t=>d.includes(t==null?void 0:t.category))),u.length>0&&(e=e.filter(t=>u.includes(t==null?void 0:t.subCategory))),f){case"low-high":return e.slice().sort((t,r)=>t.price-r.price);case"high-low":return e.slice().sort((t,r)=>r.price-t.price);default:return e}},[a,x,p,d,u,f]),S=l.useMemo(()=>({absoluteCanonical:e,pageDescription:t,baseTitle:r,origin:h})=>{const y=c.slice(0,12).map((o,v)=>o!=null&&o._id?{"@type":"ListItem",position:v+1,url:`${h}/product/${o._id}`,name:o==null?void 0:o.name}:null).filter(Boolean);return[{"@context":"https://schema.org","@type":"CollectionPage","@id":`${e}#all-products`,url:e,name:r,description:t},y.length?{"@context":"https://schema.org","@type":"ItemList","@id":`${e}#catalogue`,itemListElement:y}:null].filter(Boolean)},[c]);return l.useEffect(()=>{n!=null&&n.hasMore&&a.length&&(c.length>=12||g())},[c.length,a.length,n==null?void 0:n.hasMore,g]),k({title:"Shop All Collections",description:"Filter TinyMillion apparel, jewellery, and creator exclusives by category and price to find your next signature outfit.",keywords:"TinyMillion all products, TinyMillion catalogue, shop outfits online, fashion filters, creator merch",canonical:"/collection",structuredData:S}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-10 pt-10 border-t min-h-screen px-4",children:[s.jsxs("div",{className:"min-w-60",children:[s.jsxs("p",{onClick:()=>j(!i),className:"my-2 text-xl flex items-center cursor-pointer gap-2",children:["FILTERS",s.jsx("img",{className:`h-3 sm:hidden ${i?"rotate-90":""}`,src:T.dropdown_icon,alt:"Toggle filter options"})]}),s.jsxs("div",{className:`border border-gray-300 pl-5 py-3 mt-6 ${i?"":"hidden"} sm:block`,children:[s.jsx("p",{className:"mb-3 text-sm font-medium",children:"CATEGORIES"}),s.jsx("div",{className:"flex flex-col gap-2 text-sm font-light text-gray-700",children:["Men","Women","Kids","Jewellery"].map(e=>s.jsxs("label",{className:"flex gap-2 items-center",children:[s.jsx("input",{className:"w-3",type:"checkbox",value:e,checked:d.includes(e),onChange:t=>m(t.target.value,b)}),e]},e))})]}),s.jsxs("div",{className:`border border-gray-300 pl-5 py-3 my-5 ${i?"":"hidden"} sm:block`,children:[s.jsx("p",{className:"mb-3 text-sm font-medium",children:"TYPE"}),s.jsx("div",{className:"flex flex-col gap-2 text-sm font-light text-gray-700",children:["Topwear","Bottomwear","Winterwear","Girlish"].map(e=>s.jsxs("label",{className:"flex gap-2 items-center",children:[s.jsx("input",{className:"w-3",type:"checkbox",value:e,checked:u.includes(e),onChange:t=>m(t.target.value,w)}),e]},e))})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between text-base sm:text-2xl mb-4",children:[s.jsx(L,{text1:"ALL",text2:"COLLECTIONS"}),s.jsxs("select",{onChange:e=>N(e.target.value),className:"border-2 border-gray-300 text-sm px-2",children:[s.jsx("option",{value:"relavent",children:"Sort by: Relevant"}),s.jsx("option",{value:"low-high",children:"Sort by: Low to High"}),s.jsx("option",{value:"high-low",children:"Sort by: High to Low"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 gap-y-6",children:c.map(e=>!e||!(e!=null&&e._id)?null:s.jsx(E,{id:e._id,name:e.name,price:e.price,image:M(e)},e._id))})]})]})};export{F as default};
